package nl.saxion.TeamBotsV2;

import robocode.TeamRobot;

public class CornerCamper extends TeamRobot {

    private static final double RIGHTTARGETX = 65.0;
    private static final double RIGHTTARGETY = 25.0;
    private static final double LEFTARGETX = 25.0;
    private static final double LEFTTARGETY = 65.0;

    public void run(){

        goToRightCorner();
    }

    /**
     * @author Olivier
     */
    private void goToRightCorner(){

        double angle = getAngle(RIGHTTARGETX,RIGHTTARGETY);
        double turnDegrees = -angle + getHeading();

        turnLeft(turnDegrees);
        //System.out.println("ANGLE: " +angle + ". HEADING: " + getHeading() + ". turnDegrees: " + turnDegrees);

        double distance = Math.hypot(getX()-RIGHTTARGETX,getY()-RIGHTTARGETY);
        ahead(distance);

        double turnGunDegrees = -45 + getGunHeading();

        turnLeft(turnGunDegrees);
    }

    /**
     * @author Olivier
     */
    private void goLeftCorner(){

        double angle = getAngle(LEFTARGETX,LEFTTARGETY);
        double turnDegrees = -angle + getHeading();

        turnLeft(turnDegrees);
        //System.out.println("ANGLE: " +angle + ". HEADING: " + getHeading() + ". turnDegrees: " + turnDegrees);

        double distance = Math.hypot(getX()-LEFTARGETX,getY()-LEFTTARGETY);
        ahead(distance);

        double turnGunDegrees = -45 + getGunHeading();

        turnLeft(turnGunDegrees);
    }

    /**
     * @author Olivier
     */
    private double getAngle(double targetX, double targetY) {
        double angle = Math.toDegrees(Math.atan2( targetX - getX(), targetY - getY()));

        if(angle < 0){
            angle += 360.0;
        }
        return angle;
    }
}
